version: "3.9"

services:
  app:
    build: .
    container_name: pathfinder-lootmaker
    ports:
      - "${APP_PORT:-3000}:${APP_PORT:-3000}"
    environment:
      NODE_ENV: production
      APP_PORT: ${APP_PORT:-3000}
      USER_PASSWORD: ${USER_PASSWORD:-player123}
      ADMIN_PASSWORD: ${ADMIN_PASSWORD:-admin123}
      SESSION_SECRET: ${SESSION_SECRET:-change-this-session-secret}
      SESSION_MAX_AGE_HOURS: ${SESSION_MAX_AGE_HOURS:-8}
      DATA_DIR: /app/data
      TEMP_DIR: /app/temp
      TEMP_RETENTION_DAYS: ${TEMP_RETENTION_DAYS:-3}
    volumes:
      - ./data:/app/data
    restart: unless-stopped
